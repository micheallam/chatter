{"version":3,"sources":["ws-client.js","app.js","main.js"],"names":["socket","init","url","WebSocket","console","log","registerOpenHandler","handlerFunction","onopen","registerMessageHandler","onmessage","e","data","JSON","parse","sendMessage","payload","send","stringify","ChatApp","ChatMessage","m","message","user","u","timestamp","t","Date","getTime"],"mappings":";AA0Be,aA1Bf,IAAIA,EAEJ,SAASC,EAAKC,GACVF,EAAS,IAAIG,UAAUD,GACvBE,QAAQC,IAAI,iBAGhB,SAASC,EAAoBC,GACzBP,EAAOQ,OAAS,WACZJ,QAAQC,IAAI,QACZE,KAIR,SAASE,EAAuBF,GAC5BP,EAAOU,UAAY,SAACC,GAChBP,QAAQC,IAAI,UAAWM,EAAEC,MACrBA,IAAAA,EAAOC,KAAKC,MAAMH,EAAEC,MACxBL,EAAgBK,IAIxB,SAASG,EAAYC,GACjBhB,EAAOiB,KAAKJ,KAAKK,UAAUF,IAGhB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACXf,KAAAA,EACAK,oBAAAA,EACAG,uBAAAA,EACAM,YAAAA,GAJW,QAAA,QAAA;;ACPAI,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAnBf,IAAA,EAAA,EAAA,QAAA,gBAmBeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GAAAA,SAAAA,EAAAA,EAAAA,GAAAA,IAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAAA,CAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,WAAAA,EAAAA,aAAAA,EAAAA,EAAAA,cAAAA,EAAAA,UAAAA,IAAAA,EAAAA,UAAAA,GAAAA,OAAAA,eAAAA,EAAAA,EAAAA,IAAAA,IAAAA,SAAAA,EAAAA,EAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,EAAAA,UAAAA,GAAAA,GAAAA,EAAAA,EAAAA,GAAAA,EAAAA,SAAAA,EAAAA,EAAAA,GAAAA,KAAAA,aAAAA,GAAAA,MAAAA,IAAAA,UAAAA,qCAjBTA,IAAAA,EACF,SAAc,IAAA,EAAA,KAAA,GACVf,QAAQC,IAAI,gBAIde,EAAAA,WAEH,SAAA,EAAA,GADwBC,IAAAA,EAATC,EAAAA,QAAYC,EAAAA,EAAAA,KAAMC,OAAE,IAAA,EAAA,SACnC,EAD6CC,EAAAA,EAAAA,UAAWC,OAAG,IAAA,GAAA,IAAIC,MAAQC,UACvE,EAAA,EAAA,KAAA,GACUN,KAAAA,QAAUD,EACVE,KAAAA,KAAOC,EACPC,KAAAA,UAAYC,EAMVP,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,YAJC,MAAA,WACD,MAAA,CAAEI,KAAM,KAAKA,KAAMD,QAAS,KAAKA,QAASG,UAAW,KAAKA,eAG1DN,EAXTC,GAWSD,EAAAA,EAAAA,QAAAA,QAAAA;;AChBf,aADA,IAAA,EAAA,EAAA,QAAA,UACA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAHAf,QAAQC,IAAI,cAGZ,IAAIc,EAAJ","file":"main.js","sourceRoot":"..\\..\\src","sourcesContent":["let socket;\r\n\r\nfunction init(url) {\r\n    socket = new WebSocket(url);\r\n    console.log('connecting...');\r\n}\r\n\r\nfunction registerOpenHandler(handlerFunction) {\r\n    socket.onopen = function() {\r\n        console.log('open');\r\n        handlerFunction();\r\n    }\r\n}\r\n\r\nfunction registerMessageHandler(handlerFunction) {\r\n    socket.onmessage = (e) => {\r\n        console.log('message', e.data);\r\n        let data = JSON.parse(e.data);\r\n        handlerFunction(data);\r\n    }\r\n}\r\n\r\nfunction sendMessage(payload) {\r\n    socket.send(JSON.stringify(payload));\r\n}\r\n\r\nexport default {\r\n    init,\r\n    registerOpenHandler,\r\n    registerMessageHandler,\r\n    sendMessage\r\n}","import socket from './ws-client';\r\n\r\nclass ChatApp {\r\n    constructor() {\r\n        console.log('Hello, ES6!');\r\n    }\r\n}\r\n\r\nclass ChatMessage {\r\n    constructor({ message: m, user: u='batman', timestamp: t=(new Date()).getTime()\r\n}) {\r\n        this.message = m;\r\n        this.user = u;\r\n        this.timestamp = t;\r\n    }\r\n    serialize() {\r\n        return { user: this.user, message: this.message, timestamp: this.timestamp };\r\n    }\r\n}\r\nexport default ChatApp;","console.log('in main.js');\r\n\r\nimport ChatApp from './app';\r\nnew ChatApp;"]}